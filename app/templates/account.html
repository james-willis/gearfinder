<!--extends base layout-->
{% extends 'base.html' %}
{% block content %}
    <h2>Email Alert Settings</h2>
    <form action="{{ url_for('update_email_settings') }}" method="POST" name="email_form">
        {{ email_form.hidden_tag() }}

        <div class="form-group">
            <label for="savedSearch">Saved Search Terms</label>
            {{ email_form.search_terms(id="savedSearch", type="search", class="form-control",
                                    placeholder="Search Terms") }}

            {{ email_form.email_opt_in(id="emailOptIn", class="form-check-input", type="checkbox", value="email_opt_in") }} Check here for an email alert to relevant new posts
        </div>

        <input class="btn btn-primary" type="submit" value="Update">
    </form>

    <h2>Account Settings</h2>
    <form action="{{ url_for('update_credentials') }}" method="POST" name="account_form">
        {{ account_form.hidden_tag() }}

        <div class="form-group">
            <label for="currentPassword" class ="sr-only">Current Password</label>
            {{ account_form.current_password(id="currentPassword", type="password", class="form-control",
                                    placeholder="Current Password") }}
            {% for error in account_form.current_password.errors %}
            <span style="color: red;">[{{error}}]</span>
            {% endfor %}
        </div>

        <div class="form-group">
            <label for="newEmail" class ="sr-only">New Email Address</label>
            {{ account_form.new_email(id="newEmail", type="email", class="form-control",
                                    placeholder="New Email") }}
        </div>

        <div class="form-group">
            <label for="newPassword" class ="sr-only">New Password</label>
            {{ account_form.new_password(id="newPassword", type="password", class="form-control",
                                    placeholder="New Password") }}
            {% for error in account_form.new_password.errors %}
            <span style="color: red;">[{{error}}]</span>
            {% endfor %}
        </div>

        <div class="form-group">
            <label for="ConfirmNewPassword" class ="sr-only">Confirm New Password</label>
            {{ account_form.confirm(id="ConfirmNewPassword", type="password", class="form-control",
                                    placeholder="Confirm New Password") }}

        </div>
        <input class="btn btn-primary" type="submit" value="Update">
    </form>
{% endblock %}
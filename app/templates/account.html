<!--extends base layout-->
{% extends 'base.html' %}
{% block content %}
    <h2>Email Alert Settings</h2>
    <form action="{{ url_for('update_email_settings') }}" method="POST" name="email_form">
        {{ email_form.hidden_tag() }}

        <fieldset class="form-group form-group-account">
            <label for="savedSearch" class="sr-only">Saved Search Terms</label>
            {{ email_form.search_terms(id="savedSearch", type="search",
                                       class="form-control",
                                       placeholder="Search Terms") }}

            <label>{{ email_form.email_opt_in(id="optIn", type="checkbox", value="email_opt_in") }}
            Check here for an email alert to relevant new posts</label>
        </fieldset>
        <input class="btn btn-primary" type="submit" value="Update">
    </form>

    <h2>Account Settings</h2>
    <form action="{{ url_for('update_credentials') }}" method="POST" name="account_form">
        {{ account_form.hidden_tag() }}

        <fieldset class="form-group form-group-account">
            <label for="currentPassword" class ="sr-only">Current Password</label>
            {{ account_form.current_password(id="currentPassword", type="password",
                                             class="form-control top-list-element",
                                             placeholder="Current Password") }}
            {% for error in account_form.current_password.errors %}
            <span style="color: red;">[{{error}}]</span>
            {% endfor %}

            <label for="newEmail" class ="sr-only">New Email Address</label>
            {{ account_form.new_email(id="newEmail", type="email",
                                      class="form-control middle-list-element",
                                      placeholder="New Email") }}

            <label for="newPassword" class ="sr-only">New Password</label>
            {{ account_form.new_password(id="newPassword", type="password",
                                         class="form-control middle-list-element",
                                         placeholder="New Password") }}
            {% for error in account_form.new_password.errors %}
            <span style="color: red;">[{{error}}]</span>
            {% endfor %}

            <label for="ConfirmNewPassword" class ="sr-only">Confirm New Password</label>
            {{ account_form.confirm(id="ConfirmNewPassword", type="password",
                                    class="form-control bottom-list-element",
                                    placeholder="Confirm New Password") }}

        </fieldset>

        <input class="btn btn-primary" type="submit" value="Update">
    </form>
{% endblock %}